<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Caisse des Denonciations Française</title>

    <!-- Link CSS Files -->
    <link rel="stylesheet" href="./assets/css/style.css">
    <link rel="stylesheet" href="./assets/css/home.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
</head>
<body>
    <header>
        <div class="top">
            <div class="left">
                <div class="icone">
                    <div class="flag">
                        <img src="./assets/img/flag.webp" alt="">
                    </div>
                    <div class="title">REPUBLIC<br>FRANCAISE</div>
                    <div class="devise">Liberté, Egalité, Fraternité</div>
                </div>
            </div>
            <div class="middle">
                <h2>Caisse des Denonciations Française</h2>
                <h5>Le site officiel pour dénoncer comme en 39-45 !</h5>
                <div class="spacer"></div>
            </div>
            <div class="right">
                <div class="top">
                    <div class="login" onclick="window.location.href = './login.html'">
                        <i></i>
                        Se  connecter
                    </div>
                    <div class="deposer" onclick="window.location.href = './new.html'">Déposer un signalement</div>
                </div>
                <div class="bottom">
                    <div class="search">
                        <input type="text" placeholder=" Recherchez une localisation, personne, faits, ...">
                        <button>Q</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="navbar">
            <ul class="menu">
                <li class="item"><a href="index.html"><img src="./assets/img/icons/home.svg" alt="" srcset=""></a></li>
                <li class="item"><a href="stats.html">Statistiques</a></li>
                <li class="item"><a href="#">Carte</a></li>
                <li class="item"><a href="about.html">Platforme</a></li>
                <li class="item"><a href="help.html">Aide</a></li>
                <div class="separator"></div>
                <li class="item"><a href="confidentialité.html">Confidentialité</a></li>
                <li class="item"><a href="legal_mentions.html">Mentions Légales</a></li>
            </ul>
        </div>
    </header>
    <div class="content">
        <iframe src="https://umap.openstreetmap.fr/fr/map/challenge-web_1161767#6/46.793/2.703" width="100%" height="80%" frameborder="0"></iframe>
        <!--<div class="map" id="map" style="width: 100%; height: 100%;"></div>-->

        </div>
    </div>
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <!-- <script>
        // Initialiser la carte
        var map = L.map('map').setView([48.8566, 2.3522], 13); // Coordonnées de Paris

        // Ajouter une couche de tuiles (tiles layer)
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors | <a href="https://www.mael-cv.xyz">Mael Chebbi Vigneau</a>',
        }).addTo(map);

        // Fonction pour ajouter des marqueurs à partir d'un GeoJSON
        function addMarkersFromGeoJSON(geojsonData) {
            L.geoJSON(geojsonData, {
                onEachFeature: function (feature, layer) {
                    if (feature.properties && feature.properties.popupContent) {
                        layer.bindPopup(feature.properties.popupContent);
                    }
                }
            }).addTo(map);
        }

        // Pour charger des données GeoJSON depuis un fichier externe via un proxy
        fetch('https://api.litmaaa.xyz/openstreetmap.php', {mode: 'no-cors'})
            .then(response => response.json())
            .then(data => {
                console.log('GeoJSON chargé avec succès:', data);
                addMarkersFromGeoJSON(data);
            })
            .catch(error => console.error('Erreur lors du chargement du GeoJSON:', error));
    </script>-->
</body>
</html>